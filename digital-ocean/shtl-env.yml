version: 1
shathel-env:
  gav: git@github.com/s4s0l/shathel-stacks:vagrant:$version
  mandatoryEnvs:
      SOME_NEEDED_ENV: Description
  user: root

  phases:
      image-preparation:
        type: packer
        name: packer-ubuntu-shathel.json
      infrastructure:
        type: terraform
        name: ./tf
      setup:
        type: ansible
        name: ./playbook.yml
      swarm:
        type: ansible
        name: ../common/swarmize.yml